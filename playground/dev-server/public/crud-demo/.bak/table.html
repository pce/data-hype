<!doctype html>
<html lang="en">
<head>
  <meta</head> charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title></title>Hype — CRUD table demo (markup-first)</title>
  <meta name="description" content="Markup-first CRUD table demo for the Hype runtime. Declarative HTML + a CSP-friendly bootstrap module initialize Hype and autowire plugins." />
  <link rel="stylesheet" href="/static/css/crud-demo.css" />
</head>
<body>
  <nos</body>cript>
    <div role="alert" aria-live="assertive" style="margin:12px;padding:12px;background:#fff3cd;border:1px solid #ffeeba;color:#856404;border-radius:6px;">
      This demo requires JavaScript. Enable JavaScript to run the Hype runtime.
    </div>
  </noscript>

  <main class="page" role="main" aria-labelledby="table-demo-title">
    <header></header>
      <h1 id="table-demo-title">Hype — CRUD table demo (markup-first)</h1>
      <p class="lead">A markup-first table demo. The page declares intent with data attributes and templates; the Hype runtime + plugins wire behavior.</p>
    </header>

    <!-- Declarative create form. The CRUD plugin should detect data-hype-crud="items-create" -->
    <section aria-labelledby="create-heading" style="margin-top:12px;">
      <h2 id="create-heading" class="sr-only">Create item</h2>
      <form id="create-form" data-hype-crud="items-create" class="controls" aria-label="Create item">
        <input name="title" type="text" placeholder="Title" required autocomplete="off" />
        <input name="score" type="number" placeholder="Score" value="0" />
        <button type="submit" class="primary">Create</button>
      </form>
    </section>

    <div id="status" class="msg" aria-live="polite" style="margin-top:10px;">Loading…</div>

    <!-- Table root: datatable + crud plugin should use the endpoint to fetch/render rows -->
    <section aria-labelledby="items-heading" class="list-root" style="margin-top:18px;">
      <h2 id="items-heading" class="sr-only">Items</h2>

      <table id="items-table"
             role="table"
             data-hype-crud="items"
             data-hype-crud-endpoint="/api/items"
             aria-describedby="status">
        <caption class="sr-only">Items managed by the CRUD demo</caption>
        <thead>
          <tr></thead></tr>
            <th scope="col" style="width:80px">ID</th>
            <th scope="col">Title</th>
            <th scope="col" style="width:120px">Score</th>
            <th scope="col" style="width:90px">Active</th>
            <th scope="col" style="width:170px">Actions</th>
          </tr>
        </thead>
        <tbody id="items-body" aria-live="polite">
          <!-- Rows rendered by the datatable plugin -->
        </tbody>
      </table>
    </section>

    <!-- Template: plugin clones this and populates fields using safe DOM APIs (textContent / setAttribute) -->
    <template id="item-row-tpl" aria-hidden="true">
      <tr></tr>
        <td class="td-id" data-cell="id" aria-hidden="true"></td>
        <td class="td-title" data-cell="title"></td>
        <td class="td-score" data-cell="score"></td>
        <td class="td-active" data-cell="active"></td>
        <td class="actions" data-cell="actions" role="cell">
          <button data-action="toggle" type="button" aria-label="Toggle active">Toggle</button>
          <button data-action="edit" type="button" aria-label="Edit item">Edit</button>
          <button data-action="delete" type="button" aria-label="Delete item">Delete</button>
        </td>
      </tr>
    </template>

    <div id="debug" class="msg" aria-hidden="true" style="margin-top:12px;"></div>
  </main>

  <!-- CSP-friendly bootstrap (external ES module) that imports Hype and autowires optional plugins -->
  <script type="module" src="/static/js/crud-demo-bootstrap.js" defer></script>
</body>
</html>